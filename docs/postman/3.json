{
	"info": {
		"_postman_id": "18293578-ee82-f69d-6d5b-eeac97c82756",
		"name": "Step-up Middleware",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "/command",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"meta\": {\n        \"actor\": \"9971dbcf01267b11f6107d9cafb43e5b4009a955\",\n        \"actor_institution\": \"dev.organisation.example\"\n    },\n    \"command\": {\n        \"name\":\"Identity:VetSecondFactor\",\n        \"uuid\":\"436c1483-9c65-4818-9481-232b8f4f2c37\",\n        \"payload\":{\"authority_id\":\"f8c22486-4f18-4c91-9dab-80a2e6a75155\",\"identity_id\":\"b7e7b37f-893b-476e-97a0-140905037cd4\",\"second_factor_id\":\"2ede0999-9f0a-4bd5-bfaa-dc90dab7ab8f\",\"registration_code\":\"KJXZT796\",\"second_factor_type\":\"tiqr\",\"second_factor_identifier\":\"test-prefix-5ac47135b7ff89.63052221\",\"document_number\":\"123456\",\"identity_verified\":true}\n    }\n}\n\n"
				},
				"url": {
					"raw": "http://middleware.stepup.example.com/command",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"command"
					]
				}
			},
			"response": []
		},
		{
			"name": "/identity",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/identity?institution=Example Inc",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"identity"
					],
					"query": [
						{
							"key": "institution",
							"value": "Example Inc"
						}
					]
				},
				"description": "Must include an `institution` GET parameter\n\nCan include:\n\n- `NameID` -> equals check\n\n- `email` -> MATCH AGAINST\n\n- `commonName` -> MATCH AGAINST"
			},
			"response": []
		},
		{
			"name": "/identity/{identityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6cmE="
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/identity/45fb401a-22b6-4829-9495-08b9610c18d4",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"identity",
						"45fb401a-22b6-4829-9495-08b9610c18d4"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/profile",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/profile?identityId=c78240b1-612f-49b7-85b7-83eae5f63a85",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"profile"
					],
					"query": [
						{
							"key": "identityId",
							"value": "c78240b1-612f-49b7-85b7-83eae5f63a85"
						}
					]
				},
				"description": "Must include an `identityId` GET parameter"
			},
			"response": []
		},
		{
			"name": "/unverified-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/unverified-second-factors?identityId=8b5cdd14-74b1-43a2-a806-c171728b1bf1",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"unverified-second-factors"
					],
					"query": [
						{
							"key": "identityId",
							"value": "8b5cdd14-74b1-43a2-a806-c171728b1bf1"
						}
					]
				},
				"description": "- `identityId` optional get param\n- `verificationNonce` optional get param\n- `p` page"
			},
			"response": []
		},
		{
			"name": "/unverified-second-factor/{secondFactorId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/unverified-second-factors/4984057f-5952-4a82-a77f-44bc9cd62ce4",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"unverified-second-factors",
						"4984057f-5952-4a82-a77f-44bc9cd62ce4"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/verified-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/verified-second-factors?identityId=8b5cdd14-74b1-43a2-a806-c171728b1bf1",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"verified-second-factors"
					],
					"query": [
						{
							"key": "identityId",
							"value": "8b5cdd14-74b1-43a2-a806-c171728b1bf1"
						}
					]
				},
				"description": "- `identityId` optional get param\n- `secondFactorId` optional get param\n- `registrationCode` optional get param\n- `p` page"
			},
			"response": []
		},
		{
			"name": "/verified-second-factor/{secondFactorId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/verified-second-factor/4984057f-5952-4a82-a77f-44bc9cd62ce4",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"verified-second-factor",
						"4984057f-5952-4a82-a77f-44bc9cd62ce4"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/vetted-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/vetted-second-factors?identityId=c78240b1-612f-49b7-85b7-83eae5f63a85",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"vetted-second-factors"
					],
					"query": [
						{
							"key": "identityId",
							"value": "c78240b1-612f-49b7-85b7-83eae5f63a85"
						}
					]
				},
				"description": "- `identityId` optional get param\n- `p` optional get (page) param"
			},
			"response": []
		},
		{
			"name": "/vetted-second-factor/{secondFactorId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/vetted-second-factor/c732d0ac-9f61-4ae1-924e-40d5172fca86",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"vetted-second-factor",
						"c732d0ac-9f61-4ae1-924e-40d5172fca86"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/vetted-second-factor/{secondFactorId} copy",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/vetted-second-factor/c732d0ac-9f61-4ae1-924e-40d5172fca86",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"vetted-second-factor",
						"c732d0ac-9f61-4ae1-924e-40d5172fca86"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/sraa/{nameId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/sraa/3858f62230ac3c915f300c664312c63f",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"sraa",
						"3858f62230ac3c915f300c664312c63f"
					]
				},
				"description": "- `nameId` required parameter"
			},
			"response": []
		},
		{
			"name": "/registration-authority",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6cmE="
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/registration-authority?institution=Ibuildings",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"registration-authority"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						}
					]
				},
				"description": "- `institution`: required get param for scoping"
			},
			"response": []
		},
		{
			"name": "/registration-authority/{IdentityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6cmE="
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/registration-authority/c78240b1-612f-49b7-85b7-83eae5f63a85",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"registration-authority",
						"c78240b1-612f-49b7-85b7-83eae5f63a85"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/ra-listing",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-listing?institution=Ibuildings&orderBy=commonName&orderDirection=asc",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-listing"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						},
						{
							"key": "orderBy",
							"value": "commonName"
						},
						{
							"key": "orderDirection",
							"value": "asc"
						}
					]
				},
				"description": "- `institution` required get param\n- `orderBy` optional sorting param\n- `orderDirection` optional sorting param\n- `p` optional paging param\n\n`orderBy` only allows \"commonName\" as value\n\nDefault: `orderBy=commonName&orderDirection=asc`"
			},
			"response": []
		},
		{
			"name": "/ra-listing/{IdentityId}",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/app_dev.php/ra-listing/62096060-8b60-4bb1-bcc1-e00158a4051b/stepup.example.com?actorId=62096060-8b60-4bb1-bcc1-e00158a4051b&actorInstitution=institution-a.example.com&XDEBUG_SESSION_START=PHPSTORM",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"app_dev.php",
						"ra-listing",
						"62096060-8b60-4bb1-bcc1-e00158a4051b",
						"stepup.example.com"
					],
					"query": [
						{
							"key": "actorId",
							"value": "62096060-8b60-4bb1-bcc1-e00158a4051b"
						},
						{
							"key": "actorInstitution",
							"value": "institution-a.example.com"
						},
						{
							"key": "XDEBUG_SESSION_START",
							"value": "PHPSTORM"
						}
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/ra-candidate",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-candidate?institution=Ibuildings",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-candidate"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						}
					]
				},
				"description": "- `institution` required get param\n- `commonName` optional search param\n- `email` optional search param\n- `p` optional paging param\n"
			},
			"response": []
		},
		{
			"name": "/ra-candidate/{IdentityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-candidate/8b5cdd14-74b1-43a2-a806-c171728b1bf1",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-candidate",
						"8b5cdd14-74b1-43a2-a806-c171728b1bf1"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/institution-listing",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/institution-listing",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"institution-listing"
					]
				},
				"description": "nothing"
			},
			"response": []
		},
		{
			"name": "/audit-log/second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/audit-log/second-factors?institution=Ibuildings&identityId=8b5cdd14-74b1-43a2-a806-c171728b1bf1&orderBy=recordedOn&orderDirection=asc",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"audit-log",
						"second-factors"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						},
						{
							"key": "identityId",
							"value": "8b5cdd14-74b1-43a2-a806-c171728b1bf1"
						},
						{
							"key": "orderBy",
							"value": "recordedOn"
						},
						{
							"key": "orderDirection",
							"value": "asc"
						}
					]
				},
				"description": "- `institution` required get param\n- `identityId` required get param\n- `orderBy` optional\n- `orderDirection` optional\n- `p` optional, default 1"
			},
			"response": []
		}
	]
}