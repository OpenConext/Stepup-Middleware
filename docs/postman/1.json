{
	"info": {
		"_postman_id": "87d5d604-ffd5-f02f-02c8-7ad8955fed5c",
		"name": "Step-up Middleware",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "/command",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"meta\": {\n        \"actor\": null,\n        \"actor_institution\": null\n    },\n    \"command\": {\n        \"name\":\"Identity:CreateIdentity\",\n        \"uuid\":\"d12cb994-5719-405a-9533-af1beef78ee3\",\n        \"payload\":{\n            \"id\": \"abb1b9f8-20c9-44a9-9694-176f00aaa618\",\n            \"name_id\": \"29c41b84214b4fd5fb4d508e680fc921\",\n            \"institution\": \"Example Orgbhkjglgiliyih.\",\n            \"email\": \"foo@bar.com\",\n            \"common_name\": \"Sjaak Trekhaak\"\n        }\n    }\n}"
				},
				"url": {
					"raw": "http://mw-dev.stepup.coin.surf.net/app_dev.php/command",
					"protocol": "http",
					"host": [
						"mw-dev",
						"stepup",
						"coin",
						"surf",
						"net"
					],
					"path": [
						"app_dev.php",
						"command"
					]
				}
			},
			"response": []
		},
		{
			"name": "/identity",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/identity?institution=institution-a.example.com&actorId=2c7817b2-23e0-4f77-bd9e-29a1b00608a3&actorInstitution=institution-a.example.com&XDEBUG_SESSION_START=PHPSTORM",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"identity"
					],
					"query": [
						{
							"key": "institution",
							"value": "institution-a.example.com"
						},
						{
							"key": "actorId",
							"value": "2c7817b2-23e0-4f77-bd9e-29a1b00608a3"
						},
						{
							"key": "actorInstitution",
							"value": "institution-a.example.com"
						},
						{
							"key": "XDEBUG_SESSION_START",
							"value": "PHPSTORM"
						}
					]
				},
				"description": "Must include an `institution` GET parameter\n\nCan include:\n\n- `NameID` -> equals check\n\n- `email` -> MATCH AGAINST\n\n- `commonName` -> MATCH AGAINST"
			},
			"response": []
		},
		{
			"name": "/identity/{identityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6cmE="
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/identity/45fb401a-22b6-4829-9495-08b9610c18d4",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"identity",
						"45fb401a-22b6-4829-9495-08b9610c18d4"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/unverified-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/unverified-second-factors?identityId=8b5cdd14-74b1-43a2-a806-c171728b1bf1",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"unverified-second-factors"
					],
					"query": [
						{
							"key": "identityId",
							"value": "8b5cdd14-74b1-43a2-a806-c171728b1bf1"
						}
					]
				},
				"description": "- `identityId` optional get param\n- `verificationNonce` optional get param\n- `p` page"
			},
			"response": []
		},
		{
			"name": "/unverified-second-factor/{secondFactorId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/unverified-second-factors/4984057f-5952-4a82-a77f-44bc9cd62ce4",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"unverified-second-factors",
						"4984057f-5952-4a82-a77f-44bc9cd62ce4"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/verified-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/verified-second-factors?identityId=8b5cdd14-74b1-43a2-a806-c171728b1bf1",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"verified-second-factors"
					],
					"query": [
						{
							"key": "identityId",
							"value": "8b5cdd14-74b1-43a2-a806-c171728b1bf1"
						}
					]
				},
				"description": "- `identityId` optional get param\n- `secondFactorId` optional get param\n- `registrationCode` optional get param\n- `p` page"
			},
			"response": []
		},
		{
			"name": "/verified-second-factor/{secondFactorId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/verified-second-factor/4984057f-5952-4a82-a77f-44bc9cd62ce4",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"verified-second-factor",
						"4984057f-5952-4a82-a77f-44bc9cd62ce4"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/vetted-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/vetted-second-factors?identityId=c78240b1-612f-49b7-85b7-83eae5f63a85",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"vetted-second-factors"
					],
					"query": [
						{
							"key": "identityId",
							"value": "c78240b1-612f-49b7-85b7-83eae5f63a85"
						}
					]
				},
				"description": "- `identityId` optional get param\n- `p` optional get (page) param"
			},
			"response": []
		},
		{
			"name": "/vetted-second-factor/{secondFactorId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://mw-dev.stepup.coin.surf.net/app_dev.php/vetted-second-factor/c732d0ac-9f61-4ae1-924e-40d5172fca86",
					"protocol": "http",
					"host": [
						"mw-dev",
						"stepup",
						"coin",
						"surf",
						"net"
					],
					"path": [
						"app_dev.php",
						"vetted-second-factor",
						"c732d0ac-9f61-4ae1-924e-40d5172fca86"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/vetted-second-factor/{secondFactorId} copy",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/vetted-second-factor/c732d0ac-9f61-4ae1-924e-40d5172fca86",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"vetted-second-factor",
						"c732d0ac-9f61-4ae1-924e-40d5172fca86"
					]
				},
				"description": "- `secondFactorId` UUIDv4 of the second factor"
			},
			"response": []
		},
		{
			"name": "/sraa/{nameId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/sraa/3858f62230ac3c915f300c664312c63f",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"sraa",
						"3858f62230ac3c915f300c664312c63f"
					]
				},
				"description": "- `nameId` required parameter"
			},
			"response": []
		},
		{
			"name": "/registration-authority",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6cmE="
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/registration-authority?institution=Ibuildings",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"registration-authority"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						}
					]
				},
				"description": "- `institution`: required get param for scoping"
			},
			"response": []
		},
		{
			"name": "/registration-authority/{IdentityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6cmE="
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/registration-authority/c78240b1-612f-49b7-85b7-83eae5f63a85",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"registration-authority",
						"c78240b1-612f-49b7-85b7-83eae5f63a85"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/ra-listing",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-listing?institution=Ibuildings&orderBy=commonName&orderDirection=asc",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-listing"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						},
						{
							"key": "orderBy",
							"value": "commonName"
						},
						{
							"key": "orderDirection",
							"value": "asc"
						}
					]
				},
				"description": "- `institution` required get param\n- `orderBy` optional sorting param\n- `orderDirection` optional sorting param\n- `p` optional paging param\n\n`orderBy` only allows \"commonName\" as value\n\nDefault: `orderBy=commonName&orderDirection=asc`"
			},
			"response": []
		},
		{
			"name": "/ra-listing/{IdentityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-listing/c78240b1-612f-49b7-85b7-83eae5f63a85",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-listing",
						"c78240b1-612f-49b7-85b7-83eae5f63a85"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/ra-candidate",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-candidate?institution=Ibuildings",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-candidate"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						}
					]
				},
				"description": "- `institution` required get param\n- `commonName` optional search param\n- `email` optional search param\n- `p` optional paging param\n"
			},
			"response": []
		},
		{
			"name": "/ra-candidate/{IdentityId}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic c3M6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-candidate/8b5cdd14-74b1-43a2-a806-c171728b1bf1",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-candidate",
						"8b5cdd14-74b1-43a2-a806-c171728b1bf1"
					]
				},
				"description": "Single param:\n\n- `identityId`: UUID of the identity to get"
			},
			"response": []
		},
		{
			"name": "/institution-listing",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/institution-listing",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"institution-listing"
					]
				},
				"description": "nothing"
			},
			"response": []
		},
		{
			"name": "/audit-log/second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/audit-log/second-factors?institution=Ibuildings&identityId=8b5cdd14-74b1-43a2-a806-c171728b1bf1&orderBy=recordedOn&orderDirection=asc",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"audit-log",
						"second-factors"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						},
						{
							"key": "identityId",
							"value": "8b5cdd14-74b1-43a2-a806-c171728b1bf1"
						},
						{
							"key": "orderBy",
							"value": "recordedOn"
						},
						{
							"key": "orderDirection",
							"value": "asc"
						}
					]
				},
				"description": "- `institution` required get param\n- `identityId` required get param\n- `orderBy` optional\n- `orderDirection` optional\n- `p` optional, default 1"
			},
			"response": []
		},
		{
			"name": "/ra-location",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-location?institution=Ibuildings",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-location"
					],
					"query": [
						{
							"key": "institution",
							"value": "Ibuildings"
						}
					]
				},
				"description": "- `institution` required get param\n- `orderBy` optional sorting param\n- `orderDirection` optional sorting param\n\n\nDefault: `orderBy=name&orderDirection=asc`"
			},
			"response": []
		},
		{
			"name": "/ra-location/{id}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-location/123e4567-e89b-12d3-a456-426655440000",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-location",
						"123e4567-e89b-12d3-a456-426655440000"
					]
				},
				"description": "- `id` required param"
			},
			"response": []
		},
		{
			"name": "/institution-configuration-options/{institution}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/institution-configuration-options/miko.organisation.example",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"institution-configuration-options",
						"miko.organisation.example"
					]
				},
				"description": "Get the institution configuration options for a certain institution."
			},
			"response": []
		},
		{
			"name": "/ra-second-factors",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-second-factors?institution=dev.organisation.example&type=biometric",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-second-factors"
					],
					"query": [
						{
							"key": "institution",
							"value": "dev.organisation.example"
						},
						{
							"key": "type",
							"value": "biometric"
						}
					]
				},
				"description": "nothing"
			},
			"response": []
		},
		{
			"name": "/ra-second-factors-export",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Basic cmE6YmFy"
					}
				],
				"body": {},
				"url": {
					"raw": "http://middleware.stepup.example.com/ra-second-factors-export?institution=dev.organisation.example",
					"protocol": "http",
					"host": [
						"middleware",
						"stepup",
						"example",
						"com"
					],
					"path": [
						"ra-second-factors-export"
					],
					"query": [
						{
							"key": "institution",
							"value": "dev.organisation.example"
						}
					]
				},
				"description": "nothing"
			},
			"response": []
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "fo84uw42LE4z6J-",
				"type": "string"
			},
			{
				"key": "username",
				"value": "ra",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "b2e565e1-4333-4344-bd17-7afc7330db97",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "89824809-0445-4be5-93f6-4518ebb0b0e0",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}